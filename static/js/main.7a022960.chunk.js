(this.webpackJsonpukrenergo2=this.webpackJsonpukrenergo2||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),o=a(1),u=a(5);var s=function(e){var t=e.table;return r.a.createElement("header",null,r.a.createElement("div",{className:"save",onClick:function(){fetch("https://pacific-atoll-17322.herokuapp.com",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){console.log("Table was Saved")})).catch((function(e){return console.error(e)}))}},"Save"),r.a.createElement("div",null,r.a.createElement("img",{src:"https://core.opentext.com/img/app/profile-default-lrg.png",alt:"","data-tip":"Andrii Maruniak"})),r.a.createElement(u.a,null))};var i=function(e){var t=e.children;return r.a.createElement("main",null,r.a.createElement("hr",null),t)},m=a(2);var h=function(e){var t=e.item,a=t.row,n=t.column,l=t.data,c=e.onSort;return r.a.createElement("th",{row:a,column:n,onClick:c.bind(null,n)},l)};var p=function(e){var t,a=e.item,n=a.row,l=a.column,c=a.data,o=a.is_mutable,u=a.type,s=e.onChangeHandler,i=e.onBlur,m=e.autoFocus;return t=o?"boolean"===u?c?r.a.createElement("input",{type:"checkbox",onChange:s.bind(null),defaultChecked:!0}):r.a.createElement("input",{type:"checkbox",onChange:s.bind(null)}):r.a.createElement("input",{type:"string"===u?"text":"number",onChange:s.bind(null),ref:function(e){return e&&Object.keys(m).length>0&&parseInt(m.autofocus_row)===n&&parseInt(m.autofocus_column)===l?e.focus():""},onBlur:i.bind(null),value:c}):c,r.a.createElement("td",{column:l,type:u,key:Date.now().toString()},t)};var f=function(e){var t=Object(n.useState)(1),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(10),s=Object(o.a)(u,1)[0],i=Object(n.useState)({}),f=Object(o.a)(i,2),E=f[0],b=f[1],d=e.setSortDirection,g=e.sortDirection,v=e.rowsSearch,w=e.search,j=e.setTable,O=e.table,S=O.table_name,k=O.header_cells,y=O.cells,C=[],_=l*s,I=_-s,N=[],x=[],D=function(t){if(!(y.length<=0)){for(var a=function(e,t){return e>t?1:e<t?-1:0},n={},r=[],l=[],o=[],u="",s="",i=0;i<y.length;i+=1){var h=i,p=y[i],f=p.row,E=p.column,b=p.data,v=p.type;o.push(y[i]),E===parseInt(t)&&(u=b,s=v),i!==y.length-1&&f===y[1+h].row||(l[u]?o.forEach((function(e){l[u].push(e)})):l[u]=o,i!==y.length-1&&(o=[]))}var w=[];"number"===s?Object.keys(l).forEach((function(e){return w.push(parseInt(e))})):Object.keys(l).forEach((function(e){return w.push(e)})),"asc"===g[parseInt(t)]?(w.sort(a).forEach((function(e){n["".concat(e,"a")]=l[e]})),g[t]="desc",d(g)):(w.sort(a).reverse().forEach((function(e){n["".concat(e,"a")]=l[e]})),g[t]="asc",d(g)),Object.values(n).forEach((function(e){e.forEach((function(e){return r.push(e)}))})),j(Object(m.a)({},e.table,{cells:r})),c(1)}},T=function(t){t.preventDefault();var a=t.target.parentElement.getAttribute("type"),n=t.target.parentElement.getAttribute("column"),r=t.target.parentElement.parentElement.getAttribute("row"),l=t.target.value,c=y.slice();c.forEach((function(e){e.row===parseInt(r)&&e.column===parseInt(n)&&(e.data="boolean"===a?!e.data:"string"===a?l:parseInt(l))})),b({autofocus_row:r,autofocus_column:n}),j(Object(m.a)({},e.table,{cells:c}))},q=function(){b({})};if(w&&v.length>0)for(var A=0;A<y.length;A+=1){var F=A,B=y[A].row;v.includes(parseInt(B))&&(x.push(r.a.createElement(p,{item:y[A],key:A,autoFocus:E,onChangeHandler:T,onBlur:q})),A===y.length-1?C.push(r.a.createElement("tr",{row:B,key:A},x)):B!==y[1+F].row&&(C.push(r.a.createElement("tr",{row:B,key:A},x)),x=[]))}else if(!w&&!v.length)for(var L=0;L<y.length;L+=1){var H=L,J=y[L].row;x.push(r.a.createElement(p,{item:y[L],key:L,autoFocus:E,onChangeHandler:T,onBlur:q})),L===y.length-1?C.push(r.a.createElement("tr",{row:J,key:L},x)):J!==y[1+H].row&&(C.push(r.a.createElement("tr",{row:J,key:L},x)),x=[])}for(var R=C.slice(I,_),M=1;M<=Math.ceil(C.length/s);M+=1)N.push(M);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,S),r.a.createElement("div",{id:"container"},r.a.createElement("table",{id:"info"},r.a.createElement("thead",null,r.a.createElement("tr",{row:"0"},k.map((function(e,t){return r.a.createElement(h,{item:e,onSort:D,key:t})})))),r.a.createElement("tbody",null,R))),r.a.createElement("div",{className:"add-row",onClick:function(){var t=y.slice();if(0!==t.length){var a=t[t.length-1].row;t.filter((function(e){return e.row===a})).forEach((function(e){t.push(Object(m.a)({},e,{row:a+1,data:"",is_mutable:!0}))})),j(Object(m.a)({},e.table,{cells:t}))}}},"Add row"),r.a.createElement("ul",{className:"pagination"},N.length>1?N.map((function(e){return r.a.createElement("li",{key:e,className:parseInt(l)===e?"active":null,id:e,onClick:function(e){var t=e.target.id;return c(t)}},e)})):null))},E=(a(12),function(){return r.a.createElement("div",{className:"l_main"},r.a.createElement("div",{className:"l_square"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",{className:"l_square"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",{className:"l_square"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",{className:"l_square"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)))}),b=a(6);var d=function(e){var t=e.table,a=e.search,n=e.setRowsSearch,l=e.setSearch;return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",name:"search",placeholder:"Search...",value:a,onChange:function(e){var a=[],r=e.target.value;r=r.replace(/[.*+?^${}()|[\]\\]/g,"").trimStart().trimEnd(),t.filter((function(e){var t=e.row,n=e.data,l=e.type;return("string"===l||"number"===l)&&""!==r&&-1!==String(n).toLocaleLowerCase().search(new RegExp("^".concat(r.toLocaleLowerCase()),"g"))&&(a.push(parseInt(t)),!0)})),n(a?Object(b.a)(new Set(a)):[]),l(r)}}))};var g=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),u=Object(o.a)(c,2),m=u[0],h=u[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),g=b[0],v=b[1],w=Object(n.useState)([]),j=Object(o.a)(w,2),O=j[0],S=j[1],k=Object(n.useState)({}),y=Object(o.a)(k,2),C=y[0],_=y[1];return Object(n.useEffect)((function(){fetch("https://pacific-atoll-17322.herokuapp.com/?do=get").then((function(e){return e.json()})).then((function(e){h(e),function(e){for(var t={},a=0;a<e;a+=1)t[a]="none";_(t)}(e.header_cells.length),l(!1)})).catch((function(e){return console.error(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s,{table:m}),r.a.createElement(i,null,r.a.createElement(d,{search:g,table:m.cells,setSearch:v,setTable:h,setRowsSearch:S}),a?r.a.createElement(E,null):r.a.createElement(f,{table:m,setTable:h,search:g,rowsSearch:O,sortDirection:C,setSortDirection:_})))};a(13);var v=function(){return r.a.createElement(g,null)};c.a.render(r.a.createElement(v,null),document.querySelector("#root"))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.7a022960.chunk.js.map